<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link href="css/pms.css" rel="stylesheet" type="text/css" />
        <script src="js/jquery-3.5.1.min.js"></script>
        <script src="js/jquery.dataTables.min.js"></script>
        <script src="js/plotly-2.1.0.min.js"></script>
        <script src="js/fast-stats.js"></script>
        <title>Template Title</title>
    </head>
    <body>
        <div id='myDiv' style="width: 50%"></div>
    </body>
    <script>
     function IMR(data){
         let MR = [];
         let MRMean = 0;
         let IBar  = data[0];
         //console.log(data.length);
         for(i=1; i<data.length; i++){
             dx = Math.abs(data[i]-data[i-1]);
             MR.push(dx);
             MRMean += dx;
             IBar  += data[i];
         }
         //console.log(MR);
         IBar   /= data.length;
         MRMean /= (data.length-1);

         LCL_MR = 0.0;
         UCL_MR = 3.267 * MRMean;
         LCL_I  = IBar - 2.66*MRMean;
         UCL_I  = IBar + 2.66*MRMean;
         return {'MR': MR, 'LCL_MR': LCL_MR, 'UCL_MR': UCL_MR, 'LCL_I': LCL_I, 'IBar': IBar, 'UCL_I': UCL_I};
     }

     //let sampleData = //[4,2,-1,4,-5,-7,0,3,8];
     let sampleData = [
         154.61,146.205,148.585,140.23,137.535,132.57,141.045,139.91,152.86,152.43,137.6,149.15,146.475,153.205,147.07,144.35,159.47,
         152.64,154.875,150.15,150.07,154.345,157.555,145.775,150.17,155.275,180.84,165.71,165.585,161.86,165.93,154.4,154.035,158.56,
         159.275,152.165,159.535,155,148.995,167.71];

     let sampleIdx  = Array.from({length: sampleData.length}, (_, i) => i + 1);
     let stats = new Stats().push(sampleData);
     console.log(stats);

     var trace4 = {
         y: sampleData,
         type: 'box',
         name: 'P in Demin90 [mg/100g]',
         marker: {
             color: 'rgb(107,174,214)'
         },
         jitter: 0.3,
         boxpoints: 'all'
     };
     var data = [ trace4];

     var layout = {
         title: 'Box Plot Styling Outliers'
     };

     Plotly.newPlot('myDiv', data, layout);
    </script>
</html>
